{"version":3,"file":"app_assets_modules_github_sticky-scroll-into-view_ts-xxxxxxxxxxxx.js","mappings":"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","sources":["app/assets/modules/github/perform-transition.ts","app/assets/modules/github/behaviors/details.ts","app/assets/modules/github/behaviors/hash-change.ts","app/assets/modules/github/behaviors/header.ts","app/assets/modules/github/behaviors/sticky-css.ts","app/assets/modules/github/behaviors/sticky.ts","app/assets/modules/github/fragment-target.ts","app/assets/modules/github/sticky-scroll-into-view.ts"],"sourcesContent":["// performTransition\n//\n// CSS3 transitions have some major pitfalls. First trying to transition\n// elements from `display:none` to `display:block.` And also dealing with\n// computed properties like `height:auto`.\n//\n// This helper attempts to deal with those issues while still defining\n// the transitions in pure css.\n//\n// Behaviors that intend to support these special case transitions\n// should call `performTransition` when they add or remove their state\n// classes.\n//\n// Any element that is performing a transition needs to be annotated\n// with the `js-transitionable` class name.\n//\n// @example\n//\n// <div class=\"js-transitionable collapse\">\n//   Slide down\n// </div>\n//\n// .collapse {\n//   display: none;\n//   position: relative;\n//   height: 0;\n//   overflow: hidden;\n//   @include transition(0.35s, height, ease);\n// }\n// .collapse.open {\n//   display: block;\n//   height: auto;\n// }\n//\n// performTransition document.querySelector('.collapse', () => {\n//   this.classList.add('open')\n// })\n\nconst supportsTransitions = 'ontransitionend' in window\n\n// DEPRECATED: PerformTransition is deprecated.\nexport default function performTransition(container: HTMLElement, cb: () => void) {\n  if (!supportsTransitions) {\n    cb()\n    return\n  }\n\n  const els = Array.from(container.querySelectorAll('.js-transitionable'))\n  if (container.classList.contains('js-transitionable')) els.push(container)\n\n  for (const el of els) {\n    const transitionHeight = isTransitioningHeight(el)\n    if (!(el instanceof HTMLElement)) continue\n\n    el.addEventListener(\n      'transitionend',\n      () => {\n        el.style.display = ''\n        el.style.visibility = ''\n\n        if (transitionHeight) {\n          withoutTransition(el, function () {\n            el.style.height = ''\n          })\n        }\n      },\n      {once: true},\n    )\n\n    el.style.boxSizing = 'content-box'\n    el.style.display = 'block'\n    el.style.visibility = 'visible'\n\n    if (transitionHeight) {\n      withoutTransition(el, function () {\n        el.style.height = getComputedStyle(el).height\n      })\n    }\n\n    // force reflow\n    el.offsetHeight\n  }\n\n  cb()\n\n  for (const el of els) {\n    if (!(el instanceof HTMLElement)) continue\n    if (isTransitioningHeight(el)) {\n      const currentHeight = getComputedStyle(el).height\n      el.style.boxSizing = ''\n      if (currentHeight === '0px') {\n        el.style.height = `${el.scrollHeight}px`\n      } else {\n        el.style.height = '0px'\n      }\n    }\n  }\n}\n\n// Detect if element is transitioning its height property.\nfunction isTransitioningHeight(el: Element) {\n  return getComputedStyle(el).transitionProperty === 'height'\n}\n\n// Apply style change callback w/o triggering a transition.\nfunction withoutTransition(el: HTMLElement, cb: () => void) {\n  el.style.transition = 'none'\n  cb()\n  el.offsetHeight\n  el.style.transition = ''\n}\n","/* eslint eslint-comments/no-use: off */\n/* eslint-disable github/no-then */\n\n/**\n * Details toggle.\n *\n * Use the details toggle to toggle content on the page. Similar to the\n * [HTML5 details element](https://www.w3.org/wiki/HTML/Elements/details).\n *\n * There are minimum two classes you will need to trigger the JS behavior.\n *\n * Apply the `.js-details-target` class to the element that will trigger\n * the toggle through a mouse click. For accessibility reasons, we recommend using a\n * `<button>` tag for this, but it can be applied to any element.\n *\n * A single `.js-details-container` class will be applied to a parent element that is wrapping\n * all the details components. The behavior will toggle an `Details--on` class on this element\n * which the CSS will use to show and hide the appropriate objects.\n *\n * There are default styling classes that will show and hide content for you. `.Details`\n * is a component that is built to show hidden content on open, and hide shown content\n * on close.\n *\n * The default state of the component is closed. Wrap the content and target with the `Details`\n * class. And apply `Details-content--hidden` to any element that you want *hidden* when closed\n * and *shown* when open.\n *\n * @example\n * ```html\n * <div class=\"Details js-details-container\">\n *   <button type=\"button\" class=\"js-details-target\" aria-expanded=\"false\">See more info</button>\n *   <div class=\"Details-content--hidden\">Hidden details</div>\n * </div>\n * ```\n *\n * Shown content\n *\n * If you have some content that you would like to be *shown* by default and\n * *hidden* when the details is `Details--on`. Then you can use the `Details-content--shown`\n * class.\n *\n * @example\n * ```html\n * <div class=\"Details js-details-container\">\n *   <button type=\"button\" class=\"js-details-target\" aria-expanded=\"false\" aria-label=\"Expand and collapse\">\n *     <%= octicon(\"chevron-down\", :class => \"Details-content--shown\") %>\n *     <%= octicon(\"chevron-up\", :class => \"Details-content--hidden\") %>\n *   </button>\n *   <div class=\"Details-content--shown\">Shown details</div>\n * </div>\n * ```\n */\n\nimport hashChange from './hash-change'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport performTransition from '../perform-transition'\nimport {preservePosition} from 'scroll-anchoring'\n\nfunction findAndFocusByQuerySelector(container: HTMLElement, elements: string[]) {\n  elements.find(selector => {\n    const els = container.querySelectorAll<HTMLElement>(selector)\n    const element = els[els.length - 1]\n    if (element && document.activeElement !== element) {\n      element.focus()\n      return true // found\n    }\n  })\n}\n\nfunction restoreAutofocus(container: HTMLElement) {\n  findAndFocusByQuerySelector(container, ['.js-focus-on-dismiss', 'input[autofocus], textarea[autofocus]'])\n}\n\nfunction hideTooltip(target: HTMLElement) {\n  if (!target.classList.contains('tooltipped')) return\n  target.classList.remove('tooltipped')\n  target.addEventListener(\n    'mouseleave',\n    () => {\n      target.classList.add('tooltipped')\n      // eslint-disable-next-line github/no-blur\n      target.blur()\n    },\n    {once: true},\n  )\n}\n\nfunction groupMembers(group: string): Element[] {\n  return [...document.querySelectorAll('.js-details-container')].filter(\n    el => el.getAttribute('data-details-container-group') === group,\n  )\n}\n\nfunction containerTargets(container: Element): Element[] {\n  return [...container.querySelectorAll('.js-details-target')].filter(\n    target => target.closest('.js-details-container') === container,\n  )\n}\n\nfunction toggleGroup(container: Element, open: boolean): string | null {\n  const group = container.getAttribute('data-details-container-group')\n  if (!group) return null\n  preservePosition(container, () => {\n    for (const otherContainer of groupMembers(group)) {\n      if (otherContainer !== container) {\n        updateOpenState(otherContainer, open)\n      }\n    }\n  })\n  return group\n}\n\nfunction updateOpenState(container: Element, open: boolean) {\n  container.classList.toggle('open', open)\n  container.classList.toggle('Details--on', open)\n  for (const target of containerTargets(container)) {\n    target.setAttribute('aria-expanded', open.toString())\n  }\n}\n\nexport function toggleDetailsTarget(target: HTMLElement, opts?: {withGroup?: boolean; force?: boolean}) {\n  const containerSelector = target.getAttribute('data-details-container') || '.js-details-container'\n  const container = target.closest<HTMLElement>(containerSelector)!\n  const open = opts?.force ?? !container.classList.contains('open')\n  const withGroup = opts?.withGroup ?? false\n  performTransition(container, () => {\n    updateOpenState(container, open)\n    const group = withGroup ? toggleGroup(container, open) : null\n    Promise.resolve().then(() => {\n      restoreAutofocus(container)\n      hideTooltip(target)\n      container.dispatchEvent(\n        new CustomEvent('details:toggled', {\n          bubbles: true,\n          cancelable: false,\n          detail: {open},\n        }),\n      )\n      if (group) {\n        container.dispatchEvent(\n          new CustomEvent('details:toggled-group', {\n            bubbles: true,\n            cancelable: false,\n            detail: {open, group},\n          }),\n        )\n      }\n    })\n  })\n}\n\nexport function isDetailsTargetExpanded(target: HTMLElement): boolean {\n  const containerSelector = target.getAttribute('data-details-container') || '.js-details-container'\n  const container = target.closest<HTMLElement>(containerSelector)!\n  const classList = container.classList\n  return classList.contains('Details--on') || classList.contains('open')\n}\n\nfunction handleDetailsTargetClick(event: Event) {\n  const withGroup = (event as MouseEvent).altKey\n  const target = event.currentTarget as HTMLElement\n  toggleDetailsTarget(target, {withGroup})\n  event.preventDefault()\n}\non('click', '.js-details-target', handleDetailsTargetClick)\n\n// Expand collapsed outdated diff if anchor points to it\n//   /github/github/pull/123#discussion-diff-456\n//   /github/github/pull/123#discussion-r345\nhashChange(function ({target}) {\n  if (target) ensureExpanded(target)\n})\n\nexport function ensureExpanded(target: Element) {\n  let toCollapse = false\n  let node = target.parentElement\n  while (node) {\n    if (node.classList.contains('Details-content--shown')) {\n      toCollapse = true\n    }\n    if (node.classList.contains('js-details-container')) {\n      node.classList.toggle('open', !toCollapse)\n      node.classList.toggle('Details--on', !toCollapse)\n      toCollapse = false\n    }\n    node = node.parentElement\n  }\n}\n","// Variant on the native `hashchange` event with extra features:\n//\n// * Guarantees that handlers run on DOMContentLoaded, or immediately if page has\n//   already loaded;\n// * If the anchor references an element by id, the `data.target` property of the\n//   argument passed to handlers will be a reference to that DOM element.\n//\n// Each handler will be invoked with a `data` object containing properties:\n//\n// * `oldURL` - String URL prior to the hash change, or `null` on initial page load;\n// * `newURL` - String URL after hash change, or current page URL;\n// * `target` - DOM element whose id matches the anchor value, or `null`.\n//\n// Examples\n//\n// ```js\n// // Redirect old anchor issue urls\n// hashChange((data) => {\n//   const m = data.newURL.match(/\\/issues#issue\\/(\\d+)$/)\n//   if (m) window.location = data.newURL.replace(/\\/?#issue\\/.+/, \"/#{m[1]}\")\n// })\n//\n// // Ensure that the referenced comment's parent container is visible\n// hashChange((data) => {\n//   const container = data.target && data.target.closest('.js-comments-container')\n//   if (container) container.classList.remove('d-none')\n// })\n// ```\n\nimport {ready} from '@github-ui/document-ready'\nimport {SOFT_NAV_STATE} from '@github-ui/soft-nav'\n\nconst handlers: HashChangeListener[] = []\nlet ran = 0\n\ntype HashChangeListener = (opts: {oldURL: string | null; newURL: string; target?: Element | null}) => unknown\n\nexport default function hashChange(handler: HashChangeListener) {\n  ;(async function () {\n    handlers.push(handler)\n    await ready\n    runRemainingHandlers()\n  })()\n}\n\nhashChange.clear = () => {\n  handlers.length = ran = 0\n}\n\nfunction runRemainingHandlers() {\n  const index = ran\n  ran = handlers.length\n  runHandlers(handlers.slice(index), null, window.location.href)\n}\n\nfunction runHandlers(handlersToRun: HashChangeListener[], oldURL: string | null, newURL: string) {\n  const id = window.location.hash.slice(1)\n  const target = id ? document.getElementById(id) : null\n  const data = {oldURL, newURL, target}\n\n  for (const fn of handlersToRun) {\n    fn.call(null, data)\n  }\n}\n\n// Track ieOldURL manually to work around an open IE bug where the hashchange\n// event does not have oldURL or newURL attributes. See\n// https://connect.microsoft.com/IE/feedback/details/828283/implement-hashchangeevent-oldurl-and-newurl\nlet ieOldURL = window.location.href\nwindow.addEventListener('popstate', function () {\n  ieOldURL = window.location.href\n})\n\nwindow.addEventListener('hashchange', function (event) {\n  const newURL = window.location.href\n  try {\n    runHandlers(handlers, event.oldURL || ieOldURL, newURL)\n  } finally {\n    ieOldURL = newURL\n  }\n})\n\nlet softNavOldURL: string | null = null\n\ndocument.addEventListener(SOFT_NAV_STATE.START, function () {\n  softNavOldURL = window.location.href\n})\n\ndocument.addEventListener(SOFT_NAV_STATE.SUCCESS, function () {\n  runHandlers(handlers, softNavOldURL, window.location.href)\n})\n","// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {toggleDetailsTarget} from './details'\n\non('click', '.js-skip-to-content', function (event) {\n  const startOfContent = document.getElementById('start-of-content')\n  if (startOfContent) {\n    const nextElement = startOfContent.nextElementSibling\n    if (nextElement instanceof HTMLElement) {\n      nextElement.setAttribute('tabindex', '-1')\n      nextElement.setAttribute('data-skipped-to-content', '1')\n      nextElement.focus()\n    }\n  }\n  event.preventDefault()\n})\n\nexport function hasSkippedToContent() {\n  let skippedToContent = false\n  const startOfContent = document.getElementById('start-of-content')\n\n  if (startOfContent) {\n    const nextElement = startOfContent.nextElementSibling\n\n    if (nextElement instanceof HTMLElement) {\n      skippedToContent = nextElement.getAttribute('data-skipped-to-content') === '1'\n\n      if (skippedToContent) {\n        nextElement.removeAttribute('data-skipped-to-content')\n      }\n\n      return skippedToContent\n    }\n  }\n}\n\nconst touchDevice = 'ontouchstart' in document\nconst headerMenuItems = document.querySelectorAll<HTMLElement>('.js-header-menu-item')\nfor (const menuItem of headerMenuItems) {\n  menuItem.addEventListener('details:toggled', event => {\n    const target = event.target as HTMLInputElement\n\n    if (event instanceof CustomEvent && event.detail.open) {\n      for (const item of headerMenuItems) {\n        if (item !== target) {\n          toggleDetailsTarget(item, {force: false})\n        }\n      }\n    }\n  })\n\n  if (!touchDevice) {\n    menuItem.addEventListener('mouseleave', event => {\n      const target = event.target as HTMLInputElement\n\n      if (target.classList.contains('open')) {\n        toggleDetailsTarget(target, {force: false})\n      }\n    })\n  }\n}\n\ndocument.addEventListener('context-region-label:update', event => {\n  if (!(event instanceof CustomEvent && event.detail.label)) return\n\n  const contextRegionLabels = document.querySelectorAll('.js-context-region-label')\n  for (const contextRegionLabel of contextRegionLabels) {\n    contextRegionLabel.textContent = event.detail.label\n  }\n})\n\ndocument.addEventListener('turbo:before-cache', event => {\n  for (const dialog of (event.target as HTMLElement).querySelectorAll('modal-dialog[open]')) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ;(dialog as any).close()\n  }\n})\n","// The current pixel height of the base sticky headers - currently only set by notification shelf\nlet baseStickyHeaderHeight = 0\n\ntype StickyHeightObserver = (newHeight: number) => void\nconst stickyHeaderHeightObservers = new Set<StickyHeightObserver>()\n\nexport function observeStickyHeaderHeight(observer: StickyHeightObserver): void {\n  stickyHeaderHeightObservers.add(observer)\n}\n\nexport function unobserveStickyHeaderHeight(observer: StickyHeightObserver): void {\n  stickyHeaderHeightObservers.delete(observer)\n}\n\nexport function getBaseStickyHeaderHeight() {\n  return baseStickyHeaderHeight\n}\n\nexport function setBaseStickyHeaderHeight(height: number) {\n  baseStickyHeaderHeight = height\n\n  // set a css variable on the body for calculations within other sticky headers\n  if (height) {\n    document.body.style.setProperty('--base-sticky-header-height', `${height}px`)\n  } else {\n    document.body.style.removeProperty('--base-sticky-header-height')\n  }\n\n  for (const observer of stickyHeaderHeightObservers) {\n    observer(height)\n  }\n}\n\nexport const baseStickyHeaderHeightCss = 'var(--base-sticky-header-height, 0px)'\n","// `position: sticky` behavior that works with the notification shelf\n//\n// This module provides three pieces of functionality:\n//\n// - A JavaScript polyfill for `position: sticky` for legacy html which hasn't been upgraded to\n//   use `position: sticky` or cannot yet  because the layout doesn't work with `position: sticky`\n// - Augments `position: sticky` elements to add an `.is-stuck` class to elements when they are stuck\n//   requires `.js-position-sticky` to be added to the stuck element\n// - Ensures that any sticky headers that are on the same page as the notifications shelf sit below it\n//   vertically, rather than hidden underneath the shelf\n// - Provides a `.js-notification-shelf-top-offset` class, that will offset the `top` value of the\n//   element it is attached to, to ensure it sits below the notification header if it exists\n//   (see `.gh-header-shadow` for example usage)\n//\n// Usage:\n//\n// Legacy:\n//\n//    <div class=\"js-sticky js-sticky-offset-scroll top-0\">My sticky content</div>\n//\n// Modern:\n//\n//    <div class=\"js-sticky js-position-sticky top-0\" style=\"position: sticky\">My sticky content</div>\n//\n// Aligning another element to sit below the notification shelf\n//\n//    <div class=\"js-notification-shelf-top-offset\" style=\"position: fixed; top: 60px; left: 0; right: 0;\">...</div>\n\nimport {hasSkippedToContent} from './header'\nimport {loaded} from '@github-ui/document-ready'\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\nimport {getBaseStickyHeaderHeight, setBaseStickyHeaderHeight} from './sticky-css'\n\n// Have we set up the handlers already?\nlet listening = false\n\ninterface StickySet {\n  element: HTMLElement\n  placeholder: HTMLElement | null\n  offsetParent: Element | null\n  top: number\n}\n\nconst stickySets: StickySet[] = []\n\nfunction manageObservers() {\n  if (stickySets.length) {\n    addObservers()\n  } else {\n    removeObservers()\n  }\n}\n\nfunction addObservers() {\n  if (!listening) {\n    /* eslint-disable-next-line github/prefer-observers */\n    window.addEventListener('resize', checkElementsForStickingHandler)\n    /* eslint-disable-next-line github/prefer-observers */\n    document.addEventListener('scroll', checkElementsForStickingHandler)\n    listening = true\n  }\n}\n\nfunction removeObservers() {\n  window.removeEventListener('resize', checkElementsForStickingHandler)\n  document.removeEventListener('scroll', checkElementsForStickingHandler)\n  listening = false\n}\n\nexport function forceStickyRelayout() {\n  checkElementsForSticking(true)\n}\n\nfunction checkElementsForStickingHandler() {\n  checkElementsForSticking()\n}\n\nfunction checkElementsForSticking(force = false) {\n  for (const set of stickySets) {\n    if (set.element.offsetHeight > 0) {\n      // element isn't hidden\n      const {element, placeholder, top} = set\n      const elementBox = element.getBoundingClientRect()\n\n      if (placeholder) {\n        const placeholderBox = placeholder.getBoundingClientRect()\n\n        if (element.classList.contains('is-stuck')) {\n          if (placeholderBox.top > withShelfOffset(element, top)) {\n            unpinSet(set)\n          } else {\n            updatePinnedSet(set)\n          }\n        } else {\n          if (elementBox.top <= withShelfOffset(element, top)) {\n            pinSet(set)\n          } else if (force) {\n            updatePinnedSet(set)\n          }\n        }\n      } else {\n        // Ideally we'd write this more naturally, as:\n        //\n        //      if (elementBox.top <= withShelfOffset(element, top)) {\n        //\n        // however, at some zoom levels (eg. 175% in Chrome v98, but not at 150%\n        // or 200%) `elementBox.top` may evaluate to an imprecise non-integer\n        // value, like 60.000003814697266 instead of the expected 60 pixels,\n        // causing the comparison to incorrectly fail.\n        //\n        // So, we reframe the comparison in terms of a \"fuzz factor\"\n        // corresponding to a small sub-pixel quantity.\n        const fuzzFactor = 0.1\n        if (elementBox.top - withShelfOffset(element, top) < fuzzFactor) {\n          pinSet(set)\n        } else {\n          unpinSet(set)\n        }\n      }\n    }\n  }\n}\n\n// Determine if the browser has support for `position: sticky`.\nfunction browserHasSticky(el: HTMLElement): boolean {\n  const {position} = window.getComputedStyle(el)\n  return /sticky/.test(position)\n}\n\n// Pin an element.\nfunction pinSet({element, placeholder, top}: StickySet) {\n  if (placeholder) {\n    const elementBox = element.getBoundingClientRect()\n\n    setTopImportant(element, withShelfOffset(element, top))\n    element.style.left = `${elementBox.left}px`\n    element.style.width = `${elementBox.width}px`\n    element.style.marginTop = '0'\n    element.style.position = 'fixed'\n    placeholder.style.display = 'block'\n  }\n\n  element.classList.add('is-stuck')\n}\n\n// Unpin an element.\nfunction unpinSet({element, placeholder}: StickySet) {\n  if (placeholder) {\n    element.style.position = 'static'\n    element.style.marginTop = placeholder.style.marginTop\n    placeholder.style.display = 'none'\n  }\n\n  element.classList.remove('is-stuck')\n}\n\nfunction updatePinnedSet({element, placeholder, offsetParent, top}: StickySet) {\n  if (placeholder && !hasSkippedToContent()) {\n    const elementBox = element.getBoundingClientRect()\n    const placeholderBox = placeholder.getBoundingClientRect()\n\n    setTopImportant(element, withShelfOffset(element, top))\n    element.style.left = `${placeholderBox.left}px`\n    if (placeholderBox.width !== 0) element.style.width = `${placeholderBox.width}px`\n\n    // if the bottom of the fixed box overflows it's container, scroll it\n    if (offsetParent) {\n      const parentBox = offsetParent.getBoundingClientRect()\n\n      if (parentBox.bottom < elementBox.height + parseInt(String(top))) {\n        element.style.top = `${parentBox.bottom - elementBox.height}px`\n      }\n    }\n  }\n}\n\nfunction findOrCreatePlaceholder(el: HTMLElement): HTMLElement | null {\n  if (browserHasSticky(el)) {\n    return null\n  }\n\n  const previousElement = el.previousElementSibling as HTMLElement\n  if (previousElement && previousElement.classList.contains('is-placeholder')) {\n    return previousElement\n  }\n\n  const div = document.createElement('div')\n  div.style.visibility = 'hidden'\n  div.style.display = 'none'\n  div.style.height = window.getComputedStyle(el).height\n  div.className = el.className\n  div.classList.remove('js-sticky')\n  div.classList.add('is-placeholder')\n\n  return el.parentNode!.insertBefore(div, el)\n}\n\nfunction createSet(el: HTMLElement) {\n  const placeholder = findOrCreatePlaceholder(el)\n  const oldPosition = window.getComputedStyle(el).position\n\n  el.style.position = 'static' // do this to get offsetParent\n  const offsetParent = el.offsetParent\n\n  // set to fixed so we can read the `top` value from CSS\n  el.style.position = 'fixed'\n\n  const top = getOriginalTop(el)\n  const hash = {\n    element: el,\n    placeholder,\n    offsetParent,\n    top: top === 'auto' ? 0 : parseInt(top || '0'),\n  }\n\n  // set back to static\n  el.style.position = oldPosition\n\n  stickySets.push(hash)\n}\n\nfunction removeSet(el: HTMLElement) {\n  const idx = stickySets.map(set => set.element).indexOf(el)\n  stickySets.splice(idx, 1)\n}\n\nasync function initializeSet(el: HTMLElement) {\n  await loaded\n\n  requestAnimationFrame(() => {\n    if (!el.isConnected) return\n    createSet(el)\n    checkElementsForSticking()\n    manageObservers()\n  })\n}\n\nobserve('.js-sticky', {\n  constructor: HTMLElement,\n  add(el) {\n    initializeSet(el)\n  },\n  remove(el) {\n    removeSet(el)\n    manageObservers()\n  },\n})\n\nobserve('.js-notification-top-shelf', {\n  constructor: HTMLElement,\n  add(shelfEl) {\n    initializeNotificationShelf(shelfEl)\n  },\n  remove() {\n    if (getBaseStickyHeaderHeight() > 0) {\n      setBaseStickyHeaderHeight(0)\n      updateTopOffsets()\n      forceStickyRelayout()\n    }\n  },\n})\n\n// Update the top value to include the shelf offset if elements are added later.\nobserve('.js-notification-shelf-offset-top, .js-position-sticky', {\n  constructor: HTMLElement,\n  add: updateTopOffset,\n})\n\n// Sets the global notificationShelfHeight variable to match a newly rendered shelf\n// if required, so that other sticky headers can adjust their position to match.\nasync function initializeNotificationShelf(shelfEl: HTMLElement) {\n  // don't measure the height of a hidden shelf\n  if (shelfEl.offsetParent === null) return\n  await loaded\n\n  const height = Math.floor(shelfEl.getBoundingClientRect().height)\n  if (height > 0) {\n    setBaseStickyHeaderHeight(height)\n    updateTopOffsets()\n    forceStickyRelayout()\n  }\n}\n\n// Updates the top offset of all js-position-sticky or js-notification-shelf-offset-top\n// elements to include the height of the notification shelf.\n//\n// If the shelf has since been removed, will return `top` to it's original value.\nfunction updateTopOffsets() {\n  for (const el of document.querySelectorAll<HTMLElement>('.js-position-sticky, .js-notification-shelf-offset-top')) {\n    updateTopOffset(el)\n  }\n}\n\n// Updates the top offset to include the notification bar offset.\nfunction updateTopOffset(el: HTMLElement) {\n  if (el.classList.contains('js-notification-top-shelf')) return\n\n  const top = parseInt(getOriginalTop(el)) || 0\n  setTopImportant(el, top + getBaseStickyHeaderHeight())\n}\n\n// Returns the original-top value if it's been set as a data-attribute, or if not\n// retrieves it from getComputedStyle and caches it.\n//\n// This is required because an element with an already modified top value may be\n// loaded in from the PJAX cache, and without this attribute, we cannot tell if\n// we already added the shelf offset to it's top value or not.\nfunction getOriginalTop(el: HTMLElement): string {\n  const originalTop = el.getAttribute('data-original-top')\n  if (originalTop != null) return originalTop\n\n  const top = window.getComputedStyle(el).top\n  el.setAttribute('data-original-top', top)\n  return top\n}\n\n// Add a pixel offset to a number (e.g an existing top value) to offset it\n// by the current height of the notification shelf.\nfunction withShelfOffset(el: HTMLElement, top: number): number {\n  if (el.classList.contains('js-notification-top-shelf')) return top\n\n  return top + getBaseStickyHeaderHeight()\n}\n\n// Update the top style property of an element with !important.\nfunction setTopImportant(el: HTMLElement, top: number) {\n  el.style.setProperty('top', `${top}px`, 'important')\n}\n","// Find element within document matching location hash.\nexport function findFragmentTarget(document: Document, hash: string = location.hash): Element | null {\n  return findElementByFragmentName(document, decodeFragmentValue(hash))\n}\n\n// Find element within document matching id or name.\nexport function findElementByFragmentName(document: Document, name: string): Element | null {\n  if (name === '') return null\n  return document.getElementById(name) || document.getElementsByName(name)[0]!\n}\n\n// Decode location hash.\nexport function decodeFragmentValue(hash: string): string {\n  try {\n    return decodeURIComponent(hash.slice(1))\n  } catch {\n    return ''\n  }\n}\n","import {findFragmentTarget} from './fragment-target'\nimport {forceStickyRelayout} from './behaviors/sticky'\n\n// Scroll element into view accounting for sticky/fixed overlays.\nexport function scrollIntoView(el: Element | HTMLElement) {\n  if (el.hasAttribute('data-ignore-sticky-scroll')) {\n    // Some elements already take sticky headers into account, and can scroll themselves properly\n    return\n  }\n\n  const document = el.ownerDocument\n  setTimeout(() => {\n    if (document && document.defaultView) {\n      el.scrollIntoView()\n      document.defaultView.scrollBy(0, -computeFixedYOffset(document))\n    }\n  }, 0)\n}\n\n// Scroll to fragment target element accounting for sticky/fixed\n// overlays.\nexport function scrollToFragmentTarget(document: Document) {\n  const target = findFragmentTarget(document)\n  if (target) {\n    scrollIntoView(target)\n  }\n}\n\n// Compute height of visible sticky/fixed overlay on page.\nexport function computeFixedYOffset(document: Document): number {\n  // Force synchronous layout of any sticky elements before measuring offset\n  forceStickyRelayout()\n\n  const jsStickyEls = document.querySelectorAll('.js-sticky-offset-scroll')\n  const positionStickyEls = document.querySelectorAll('.js-position-sticky')\n\n  // Find maximum combined height of sticky-offset / position-sticky elements\n  // If none are present, fallback to 0 as Math.max() returns -Infinity\n\n  const scrollOffset =\n    Math.max(\n      0,\n      ...Array.from(jsStickyEls).map(el => {\n        const {top, height} = el.getBoundingClientRect()\n        return top === 0 ? height : 0\n      }),\n    ) +\n    Math.max(\n      0,\n      ...Array.from(positionStickyEls).map(el => {\n        const {top, height} = el.getBoundingClientRect()\n        const topStyleValue = parseInt(getComputedStyle(el).top)\n\n        if (!el.parentElement) {\n          return 0\n        }\n\n        const parentTop = el.parentElement.getBoundingClientRect().top\n        // include js-position-sticky element height in scroll offset if element is sticky\n        return top === topStyleValue && parentTop < 0 ? height : 0\n      }),\n    )\n\n  // Use .js-position-sticky-stacked for sticky elements that are stacked (e.g. multiple sticky elements on a page)\n  // rather than nested\n  const jsStickyElsStacked = document.querySelectorAll('.js-position-sticky-stacked')\n  const stackedHeight = Array.from(jsStickyElsStacked).reduce((a, el) => {\n    const {height, top} = el.getBoundingClientRect()\n    const isOffScreen = top < 0\n    const isStuck = el.classList.contains('is-stuck')\n    return a + (!isOffScreen && isStuck ? height : 0)\n  }, 0)\n\n  return scrollOffset + stackedHeight\n}\n"],"names":["supportsTransitions","window","performTransition","container","cb","els","Array","from","querySelectorAll","el","classList","contains","push","transitionHeight","isTransitioningHeight","HTMLElement","addEventListener","style","display","visibility","withoutTransition","height","once","boxSizing","getComputedStyle","offsetHeight","currentHeight","scrollHeight","transitionProperty","transition","findAndFocusByQuerySelector","elements","find","selector","element","length","document","activeElement","focus","restoreAutofocus","hideTooltip","target","remove","add","blur","groupMembers","group","filter","getAttribute","containerTargets","closest","toggleGroup","open","preservePosition","otherContainer","updateOpenState","toggle","setAttribute","toString","toggleDetailsTarget","opts","containerSelector","force","withGroup","Promise","resolve","then","dispatchEvent","CustomEvent","bubbles","cancelable","detail","isDetailsTargetExpanded","handleDetailsTargetClick","event","altKey","currentTarget","preventDefault","ensureExpanded","toCollapse","node","parentElement","on","hashChange","handlers","ran","handler","ready","runRemainingHandlers","index","runHandlers","slice","location","href","handlersToRun","oldURL","newURL","id","hash","getElementById","data","fn","call","clear","ieOldURL","softNavOldURL","SOFT_NAV_STATE","hasSkippedToContent","skippedToContent","startOfContent","nextElement","nextElementSibling","removeAttribute","touchDevice","headerMenuItems","menuItem","item","label","contextRegionLabels","contextRegionLabel","textContent","dialog","close","baseStickyHeaderHeight","stickyHeaderHeightObservers","Set","observeStickyHeaderHeight","observer","unobserveStickyHeaderHeight","delete","getBaseStickyHeaderHeight","setBaseStickyHeaderHeight","body","setProperty","removeProperty","baseStickyHeaderHeightCss","listening","stickySets","manageObservers","addObservers","removeObservers","checkElementsForStickingHandler","removeEventListener","forceStickyRelayout","checkElementsForSticking","set","placeholder","top","elementBox","getBoundingClientRect","placeholderBox","withShelfOffset","unpinSet","updatePinnedSet","pinSet","browserHasSticky","position","test","setTopImportant","left","width","marginTop","offsetParent","parentBox","bottom","parseInt","String","findOrCreatePlaceholder","previousElement","previousElementSibling","div","createElement","className","parentNode","insertBefore","createSet","oldPosition","getOriginalTop","removeSet","idx","map","indexOf","splice","initializeSet","loaded","requestAnimationFrame","isConnected","initializeNotificationShelf","shelfEl","Math","floor","updateTopOffsets","updateTopOffset","originalTop","observe","constructor","findFragmentTarget","findElementByFragmentName","decodeFragmentValue","name","getElementsByName","decodeURIComponent","scrollIntoView","hasAttribute","ownerDocument","setTimeout","defaultView","scrollBy","computeFixedYOffset","scrollToFragmentTarget","jsStickyEls","positionStickyEls","scrollOffset","max","topStyleValue","parentTop","jsStickyElsStacked","stackedHeight","reduce","a","isStuck"],"sourceRoot":""}